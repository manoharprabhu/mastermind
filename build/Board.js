"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const chalk_1=__importDefault(require("chalk")),table_1=require("table");class Board{pin;rightDigitWrongPosition=chalk_1.default.yellowBright("●");rightDigitRightPosition=chalk_1.default.redBright("●");wrongPosition=chalk_1.default.grey("●");constructor(t){this.pin=t}header=`
${this.rightDigitRightPosition} - Number is in right position
${this.rightDigitWrongPosition} - Number is in wrong position
${this.wrongPosition} - Number is not in the PIN
    `;guesses=[];errors=[];addGuess(t){this.guesses.push(t)}addError(t){this.errors.push(t)}clearErrors(){this.errors=[]}getBoard(){const s=[];if(this.guesses.forEach(t=>{const r=[];var i=t.split("");r.push(...i);var e=this.match(this.pin,t);let o="";for(let t=0;t<e.correctPosition;t++)o+=this.rightDigitRightPosition+" ";for(let t=0;t<e.correctColor;t++)o+=this.rightDigitWrongPosition+" ";for(let t=0;t<4-e.correctPosition-e.correctColor;t++)o+=this.wrongPosition+" ";r.push(o.slice(0,24)+"\n"+o.slice(24)),s.push(r)}),0===s.length)return"";var t=(0,table_1.table)(s,{header:{content:this.header,alignment:"left"},columnDefault:{width:2,alignment:"center",verticalAlignment:"middle"},columns:{4:{width:15}}});return t+="\n",t+=this.errors.join("\n")}match(r,i){let e=0,o=0;const s=new Set;for(let t=0;t<4;t++)i.charAt(t)===r.charAt(t)&&(e++,s.add(i.charAt(t)));for(let t=0;t<4;t++)i.charAt(t)!==r.charAt(t)&&(s.has(i.charAt(t))||-1===r.indexOf(i.charAt(t))||(o++,s.add(i.charAt(t))));return{correctPosition:e,correctColor:o}}}exports.default=Board;